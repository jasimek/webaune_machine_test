import{_ as D}from"./AdminLayout-9ba21bcb.js";import{q as F,a as f,c as h,s as U,v as T,d as t,n as x,l as M,B as E,o as I,j as O,K as q,r as m,e as z,b as e,u as a,w as c,F as K,f as Z,Z as L,t as C,g as R,O as B}from"./app-81ecaf15.js";import{s as G,a as J,b as p}from"./datatable.esm-71201ff8.js";import{_ as Q}from"./BreadCrumb-1ff8e0d2.js";import{E as W,D as X,_ as Y}from"./EditIcon-f0e8a4a0.js";import{_ as ee}from"./_plugin-vue_export-helper-c27b6911.js";import se from"./Password-86b6ede0.js";import"./ripple.esm-b4d3c147.js";import"./flowbite-vue-07e8713d.js";import"./Modal-8727c46b.js";import"./TextInput-184220bf.js";import"./InputLabel-5c8c373c.js";const te=["disabled"],re={key:0,class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},oe={__name:"Toggle",props:{checked:{type:Boolean,required:!0},disabled:{type:Boolean},label:{type:String}},emits:["update:checked"],setup(i,{emit:_}){const n=i,o=F({get(){return n.checked},set(g){_("update:checked",g)}});return(g,d)=>(f(),h("label",{class:x(["relative inline-flex items-center",i.disabled?"cursor-not-allowed":"cursor-pointer"])},[U(t("input",{type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=k=>o.value=k),class:"sr-only peer",disabled:i.disabled},null,8,te),[[T,o.value]]),t("div",{class:x(["w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600",i.disabled?"peer-checked:bg-green-200":"peer-checked:bg-green-600"])},null,2),i.label?(f(),h("span",re,"Checked toggle")):M("",!0)],2))}},ae={},ie={class:"ml-3 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",width:"21",height:"22",viewBox:"0 0 24 24",fill:"none"},le=E('<path d="M9.25 10.4193V9.33594C9.25 7.54302 9.79167 6.08594 12.5 6.08594C15.2083 6.08594 15.75 7.54302 15.75 9.33594V10.4193" stroke="#47B5BA" stroke-width="1.08333" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15.2109 16.9141H9.79427C7.6276 16.9141 7.08594 16.3724 7.08594 14.2057V13.1224C7.08594 10.9557 7.6276 10.4141 9.79427 10.4141H15.2109C17.3776 10.4141 17.9193 10.9557 17.9193 13.1224V14.2057C17.9193 16.3724 17.3776 16.9141 15.2109 16.9141Z" stroke="#47B5BA" stroke-width="1.08333" stroke-linecap="round" stroke-linejoin="round"></path><path d="M14.6641 13.6719H14.669" stroke="#47B5BA" stroke-width="1.08333" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12.4922 13.6719H12.4971" stroke="#47B5BA" stroke-width="1.08333" stroke-linecap="round" stroke-linejoin="round"></path><path d="M10.3281 13.6719H10.3329" stroke="#47B5BA" stroke-width="1.08333" stroke-linecap="round" stroke-linejoin="round"></path><path d="M14.55 21.67C18.84 20.54 22 16.64 22 12C22 6.48 17.56 2 12 2C5.33 2 2 7.56 2 7.56M2 7.56V3M2 7.56H4.01H6.44" stroke="#47B5BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 12C2 17.52 6.48 22 12 22" stroke="#47B5BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="3 3"></path>',7),ne=[le];function de(i,_){return f(),h("svg",ie,ne)}const ue=ee(ae,[["render",de]]),ce={class:"px-6 py-3 pb-0"},pe={class:"flex justify-between mb-2"},me=t("div",{class:"text-[19px] text-[#333] font-jakarta-semibold pl-2"}," Users ",-1),fe={class:"bg-white rounded-xl min-h-screen"},he={class:"items-center justify-between lg:flex px-3 pt-4"},_e={class:"items-center sm:flex ml-3"},ge={class:""},ke=t("div",{class:"h-20 flex"},[t("span",{class:"m-auto font-bold"}," No record found. ")],-1),be=t("div",{class:"h-20 flex"},[t("span",{class:"m-auto font-bold"}," Loading customers data. Please wait. ")],-1),ve={class:"ml-1"},ye={key:0,class:"flex"},He={__name:"Index",props:{users:Object},setup(i){const _=i;I(()=>{console.log(_.users,"users from mounted")});const n=O(),o=q(),g=m([{value:"Home",route:"#"},{value:"User",route:"#"}]),d=m();(()=>{d.value={global:{value:null,matchMode:Z.CONTAINS}}})();function $(){o.props.user.permissions.includes("create users")?B.visit(route("users.create")):n.add({severity:"warn",summary:"Permission",detail:"Not permission",life:3e3})}function N(r){o.props.user.permissions.includes("edit users")?B.visit(route("users.edit",[r])):n.add({severity:"warn",summary:"Permission",detail:"Not permission",life:3e3})}function V(r){b.value.showModal(r)}function j(r){return o.props.user.permissions.includes("status users"),r.id==1||r.id==o.props.auth.user.id?!0:!o.props.user.permissions.includes("status users")}const b=m(),v=m(),y=m(null),w=m();function A(r){o.props.user.permissions.includes("delete users")?(y.value=r,w.value=route("users.destroy",[r.id]),v.value.showModal()):n.add({severity:"warn",summary:"Permission",detail:"Not permission",life:3e3})}function S(r){o.props.user.permissions.includes("status users")?axios.post(route("users.change-status",r.id)).then(function(l){n.add({severity:"success",summary:"Updated",detail:"Status Updated",life:3e3})}).catch(function(l){n.add({severity:"error",summary:"Error",detail:l.response.data.message,life:3e3})}):n.add({severity:"warn",summary:"Permission",detail:"Not permission",life:3e3})}const P=["full_name","email","roles[0].name","facility.name","facility.name","department.name","unit.name"];return(r,l)=>{const H=z("Toggle1");return f(),h(K,null,[e(a(L),{title:"Dashboard"}),e(D,null,{default:c(()=>[t("div",ce,[t("div",pe,[me,t("div",null,[e(Q,{data:g.value},null,8,["data"])])]),t("div",fe,[t("div",he,[t("div",_e,[e(a(G),{size:"medium",modelValue:d.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=s=>d.value.global.value=s),placeholder:"Keyword Search",pt:{root:{class:" border !border-gray-300 !text-gray-900 sm:!text-sm rounded-lg focus:!ring-primary-500 focus:!border-primary-500 !block !w-full"}}},null,8,["modelValue"])]),t("div",ge,[t("button",{type:"button",onClick:l[1]||(l[1]=s=>$()),class:"text-white px-[40px] bg-[#0AAD97] hover:bg-[#050708]/90 focus:ring-4 focus:outline-none focus:ring-[#050708]/50 font-medium rounded-lg text-sm px-5 py-1.5 text-center inline-flex items-center mr-2 mb-2"}," Add ")])]),e(H),e(a(J),{filters:d.value,"onUpdate:filters":l[2]||(l[2]=s=>d.value=s),value:i.users,class:"p-4",paginator:"",rows:10,tableStyle:"min-width: 50rem",globalFilterFields:P,rowsPerPageOptions:[10,100,200,500]},{empty:c(()=>[ke]),loading:c(()=>[be]),default:c(()=>[e(a(p),{header:"SN"},{body:c(({data:s,index:u})=>[t("div",ve,C(u+1),1)]),_:1}),e(a(p),{field:"full_name",header:"Name"}),e(a(p),{field:"email",header:"Email"}),e(a(p),{field:"phone",header:"Phone"}),e(a(p),{field:"role",header:"Role"},{body:c(({data:s})=>{var u;return[R(C((u=s.roles[0])==null?void 0:u.name),1)]}),_:1}),e(a(p),{header:"Status"},{body:c(({data:s})=>[e(oe,{checked:s.status,onChange:u=>S(s),disabled:j(s)},null,8,["checked","onChange","disabled"])]),_:1}),e(a(p),{header:"action"},{body:c(({data:s})=>[s.id!=1&&s.id!=a(o).props.auth.user.id?(f(),h("div",ye,[e(W,{onClick:u=>N(s)},null,8,["onClick"]),e(ue,{onClick:u=>V(s)},null,8,["onClick"]),e(X,{onClick:u=>A(s)},null,8,["onClick"])])):M("",!0)]),_:1})]),_:1},8,["filters","value"])]),e(Y,{ref_key:"deleteModal",ref:v,selected_ids:y.value,url:w.value},null,8,["selected_ids","url"]),e(se,{facility_masters:r.facility_masters,ref_key:"passwordModal",ref:b},null,8,["facility_masters"])])]),_:1})],64)}}};export{He as default};
