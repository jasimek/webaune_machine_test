import{j as $,r as g,T as I,o as j,a as m,c as p,b as u,u as a,w as c,F as v,Z as M,d as s,k as N,g as x,t as b,C as k,h as O,s as P,v as U}from"./app-81ecaf15.js";import{_ as D}from"./AdminLayout-9ba21bcb.js";import{_ as F}from"./TextInput-184220bf.js";import{_ as L}from"./InputLabel-5c8c373c.js";import{_ as T}from"./BreadCrumb-1ff8e0d2.js";import{E as q,M as R,L as H,a as Z,O as z}from"./flowbite-vue-07e8713d.js";import"./ripple.esm-b4d3c147.js";const G={class:"px-6 py-3"},J={class:"flex justify-between mb-2"},K=s("div",{class:"text-[19px] text-[#333] font-jakarta-semibold pl-2"}," User Role ",-1),Q={class:"bg-white rounded-xl mt-4 min-h-screen"},W={class:"pt-9 pl-[27px] pr-[22px]"},X={class:"grid gap-4 grid-cols-9 mt-4"},Y={class:"col-span-8",style:{width:"60%"}},ee={class:"mt-8 my-6 text-right"},se={class:"flex items-center mb-4"},te=["id"],le={class:"flex items-center mb-4 col-span-full"},oe=["id","onChange"],ae=s("label",{for:"default-checkbox",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Select All",-1),re=["value"],ne={for:"default-checkbox",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},ie={class:"flex justify-center"},de=["disabled"],be={__name:"Create",props:{permissions:Object},setup(h){const r=h,y=$(),C=g([{value:"Home",route:""},{value:"Roles",route:"#"}]),i=I({name:"",permissions:[]});j(()=>{});const d=g(!1),l=g([]);function E(){var o;if(d.value=!d.value,l.value=[],d.value)for(var t in r.permissions.permission){for(var e in r.permissions.permission[t])l.value.push((o=r.permissions.permission[t][e])==null?void 0:o.name);document.getElementById("permission_"+t).checked=!0}else for(var t in r.permissions.permission)document.getElementById("permission_"+t).checked=!1}function w(t){l.value.length==r.permissions.count?d.value=!0:d.value=!1;var e=document.getElementById("module_"+t).querySelectorAll("input[name=checkbox]:checked");e.length>0&&(r.permissions.permission[t].length==e.length?document.getElementById("permission_"+t).checked=!0:document.getElementById("permission_"+t).checked=!1)}function S(t,e){for(var o in r.permissions.permission[t])if(e.target.checked){let n=l.value.indexOf(r.permissions.permission[t][o].name);n>-1&&l.value.splice(n,1),l.value.push(r.permissions.permission[t][o].name),e.target.checked=!0}else{let n=l.value.indexOf(r.permissions.permission[t][o].name);n>-1&&l.value.splice(n,1),e.target.checked=!1}V()}function V(){l.value.length==r.permissions.count?d.value=!0:d.value=!1}function B(){l.value.length>0?(i.permissions=l.value,i.permissions=l.value,i.post(route("user-roles.store"),{preserveScroll:!0,onSuccess:()=>{},onError:()=>{}})):y.add({severity:"warn",summary:"Please select one",detail:"Please Select atleast one",life:3e3})}return(t,e)=>(m(),p(v,null,[u(a(M),{title:"Dashboard"}),u(D,null,{default:c(()=>[s("div",G,[s("div",J,[K,s("div",null,[u(T,{data:C.value},null,8,["data"])])]),s("div",Q,[s("div",W,[s("div",X,[s("div",Y,[u(L,{value:"Name",validation:!!a(i).errors.name},null,8,["validation"]),u(F,{type:"text",required:"",modelValue:a(i).name,"onUpdate:modelValue":e[0]||(e[0]=o=>a(i).name=o),placeholder:"Enter Name"},N({_:2},[a(i).errors.name?{name:"validationMessage",fn:c(()=>[x(b(a(i).errors.name),1)]),key:"0"}:void 0]),1032,["modelValue"])]),s("div",ee,[s("div",se,[u(a(q),{label:"Check Alll",onClick:e[1]||(e[1]=o=>E()),modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=o=>d.value=o)},null,8,["modelValue"])])])]),(m(!0),p(v,null,k(h.permissions.permission,(o,n)=>(m(),O(a(z),{class:"mb-3 border-b dark:border-gray-700",key:n},{default:c(()=>[u(a(R),null,{default:c(()=>[u(a(H),null,{default:c(()=>[x(b(n),1)]),_:2},1024),u(a(Z),null,{default:c(()=>[s("div",{class:"grid gap-1 grid-cols-4 mt-4",id:"module_"+n},[s("div",le,[s("input",{type:"checkbox",id:"permission_"+n,onChange:f=>S(n,f),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,oe),ae]),(m(!0),p(v,null,k(o,(f,A)=>(m(),p("div",{class:"flex items-center mb-4",key:A},[P(s("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=_=>l.value=_),value:f.name,onChange:e[4]||(e[4]=_=>w(t.key)),name:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,re),[[U,l.value]]),s("label",ne,b(f.name),1)]))),128))],8,te)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),s("div",ie,[s("button",{type:"button",onClick:e[5]||(e[5]=o=>B()),disabled:a(i).processing,class:"text-white bg-[#171F4C] hover:bg-[#130b29] py-[13px] px-[28px] focus:ring-4 focus:ring-blue-300 font-medium rounded-[10px] text-sm px-5 py-2.5 mr-2 mb-2 focus:outline-none"}," Save",8,de)])])])])]),_:1})],64))}};export{be as default};
